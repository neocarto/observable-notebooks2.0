function vn(n,t){return n==null||t==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function qi(n,t){return n==null||t==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function We(n){let t,e,i;n.length!==2?(t=vn,e=(f,c)=>vn(n(f),c),i=(f,c)=>n(f)-c):(t=n===vn||n===qi?n:Ti,e=n,i=n);function r(f,c,a=0,l=f.length){if(a<l){if(t(c,c)!==0)return l;do{const s=a+l>>>1;e(f[s],c)<0?a=s+1:l=s}while(a<l)}return a}function o(f,c,a=0,l=f.length){if(a<l){if(t(c,c)!==0)return l;do{const s=a+l>>>1;e(f[s],c)<=0?a=s+1:l=s}while(a<l)}return a}function u(f,c,a=0,l=f.length){const s=r(f,c,a,l-1);return s>a&&i(f[s-1],c)>-i(f[s],c)?s-1:s}return{left:r,center:u,right:o}}function Ti(){return 0}function Gi(n){return n===null?NaN:+n}function*Yr(n,t){if(t===void 0)for(let e of n)e!=null&&(e=+e)>=e&&(yield e);else{let e=-1;for(let i of n)(i=t(i,++e,n))!=null&&(i=+i)>=i&&(yield i)}}const He=We(vn),Zr=He.right,kr=He.left,Br=We(Gi).center;function Wr(n,t){var e=0,i=0;return Float64Array.from(n,t===void 0?r=>e+=+r||0:r=>e+=+t(r,i++,n)||0)}function Hr(n,t){let e,i;if(t===void 0)for(const r of n)r!=null&&(e===void 0?r>=r&&(e=i=r):(e>r&&(e=r),i<r&&(i=r)));else{let r=-1;for(let o of n)(o=t(o,++r,n))!=null&&(e===void 0?o>=o&&(e=i=o):(e>o&&(e=o),i<o&&(i=o)))}return[e,i]}class k{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let i=0;for(let r=0;r<this._n&&r<32;r++){const o=e[r],u=t+o,f=Math.abs(t)<Math.abs(o)?t-(u-o):o-(u-t);f&&(e[i++]=f),t=u}return e[i]=t,this._n=i+1,this}valueOf(){const t=this._partials;let e=this._n,i,r,o,u=0;if(e>0){for(u=t[--e];e>0&&(i=u,r=t[--e],u=i+r,o=r-(u-i),!o););e>0&&(o<0&&t[e-1]<0||o>0&&t[e-1]>0)&&(r=o*2,i=u+r,r==i-u&&(u=i))}return u}}function Vr(n,t){const e=new k;if(t===void 0)for(let i of n)(i=+i)&&e.add(i);else{let i=-1;for(let r of n)(r=+t(r,++i,n))&&e.add(r)}return+e}function Jr(n,t){const e=new k;let i=-1;return Float64Array.from(n,t===void 0?r=>e.add(+r||0):r=>e.add(+t(r,++i,n)||0))}class Ve extends Map{constructor(t,e=Qe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),t!=null)for(const[i,r]of t)this.set(i,r)}get(t){return super.get(Nt(this,t))}has(t){return super.has(Nt(this,t))}set(t,e){return super.set(Je(this,t),e)}delete(t){return super.delete(Ke(this,t))}}class Kr extends Set{constructor(t,e=Qe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),t!=null)for(const i of t)this.add(i)}has(t){return super.has(Nt(this,t))}add(t){return super.add(Je(this,t))}delete(t){return super.delete(Ke(this,t))}}function Nt({_intern:n,_key:t},e){const i=t(e);return n.has(i)?n.get(i):e}function Je({_intern:n,_key:t},e){const i=t(e);return n.has(i)?n.get(i):(n.set(i,e),e)}function Ke({_intern:n,_key:t},e){const i=t(e);return n.has(i)&&(e=n.get(i),n.delete(i)),e}function Qe(n){return n!==null&&typeof n=="object"?n.valueOf():n}function On(n){return n}function Qr(n,...t){return xn(n,On,On,t)}function Oi(n,...t){return xn(n,Array.from,On,t)}function Ue(n,t){for(let e=1,i=t.length;e<i;++e)n=n.flatMap(r=>r.pop().map(([o,u])=>[...r,o,u]));return n}function Ur(n,...t){return Ue(Oi(n,...t),t)}function jr(n,t,...e){return Ue(Di(n,t,...e),e)}function br(n,t,...e){return xn(n,On,t,e)}function Di(n,t,...e){return xn(n,Array.from,t,e)}function no(n,...t){return xn(n,On,je,t)}function to(n,...t){return xn(n,Array.from,je,t)}function je(n){if(n.length!==1)throw new Error("duplicate key");return n[0]}function xn(n,t,e,i){return function r(o,u){if(u>=i.length)return e(o);const f=new Ve,c=i[u++];let a=-1;for(const l of o){const s=c(l,++a,o),p=f.get(s);p?p.push(l):f.set(s,[l])}for(const[l,s]of f)f.set(l,r(s,u));return t(f)}(n,0)}const Xi=Math.sqrt(50),Yi=Math.sqrt(10),Zi=Math.sqrt(2);function jn(n,t,e){const i=(t-n)/Math.max(0,e),r=Math.floor(Math.log10(i)),o=i/Math.pow(10,r),u=o>=Xi?10:o>=Yi?5:o>=Zi?2:1;let f,c,a;return r<0?(a=Math.pow(10,-r)/u,f=Math.round(n*a),c=Math.round(t*a),f/a<n&&++f,c/a>t&&--c,a=-a):(a=Math.pow(10,r)*u,f=Math.round(n/a),c=Math.round(t/a),f*a<n&&++f,c*a>t&&--c),c<f&&.5<=e&&e<2?jn(n,t,e*2):[f,c,a]}function eo(n,t,e){if(t=+t,n=+n,e=+e,!(e>0))return[];if(n===t)return[n];const i=t<n,[r,o,u]=i?jn(t,n,e):jn(n,t,e);if(!(o>=r))return[];const f=o-r+1,c=new Array(f);if(i)if(u<0)for(let a=0;a<f;++a)c[a]=(o-a)/-u;else for(let a=0;a<f;++a)c[a]=(o-a)*u;else if(u<0)for(let a=0;a<f;++a)c[a]=(r+a)/-u;else for(let a=0;a<f;++a)c[a]=(r+a)*u;return c}function ce(n,t,e){return t=+t,n=+n,e=+e,jn(n,t,e)[2]}function io(n,t,e){t=+t,n=+n,e=+e;const i=t<n,r=i?ce(t,n,e):ce(n,t,e);return(i?-1:1)*(r<0?1/-r:r)}function ro(n,t){let e;if(t===void 0)for(const i of n)i!=null&&(e<i||e===void 0&&i>=i)&&(e=i);else{let i=-1;for(let r of n)(r=t(r,++i,n))!=null&&(e<r||e===void 0&&r>=r)&&(e=r)}return e}function oo(n,t){let e;if(t===void 0)for(const i of n)i!=null&&(e>i||e===void 0&&i>=i)&&(e=i);else{let i=-1;for(let r of n)(r=t(r,++i,n))!=null&&(e>r||e===void 0&&r>=r)&&(e=r)}return e}function ki(n,t){let e,i=-1,r=-1;if(t===void 0)for(const o of n)++r,o!=null&&(e>o||e===void 0&&o>=o)&&(e=o,i=r);else for(let o of n)(o=t(o,++r,n))!=null&&(e>o||e===void 0&&o>=o)&&(e=o,i=r);return i}function uo(n,t=vn){let e,i=!1;if(t.length===1){let r;for(const o of n){const u=t(o);(i?vn(u,r)>0:vn(u,u)===0)&&(e=o,r=u,i=!0)}}else for(const r of n)(i?t(r,e)>0:t(r,r)===0)&&(e=r,i=!0);return e}function fo(n,t){let e=0,i=0;if(t===void 0)for(let r of n)r!=null&&(r=+r)>=r&&(++e,i+=r);else{let r=-1;for(let o of n)(o=t(o,++r,n))!=null&&(o=+o)>=o&&(++e,i+=o)}if(e)return i/e}function*Bi(n){for(const t of n)yield*t}function be(n){return Array.from(Bi(n))}function lo(n,t){const e=new Ve;if(t===void 0)for(let o of n)o!=null&&o>=o&&e.set(o,(e.get(o)||0)+1);else{let o=-1;for(let u of n)(u=t(u,++o,n))!=null&&u>=u&&e.set(u,(e.get(u)||0)+1)}let i,r=0;for(const[o,u]of e)u>r&&(r=u,i=o);return i}function ao(n,t,e){n=+n,t=+t,e=(r=arguments.length)<2?(t=n,n=0,1):r<3?1:+e;for(var i=-1,r=Math.max(0,Math.ceil((t-n)/e))|0,o=new Array(r);++i<r;)o[i]=n+i*e;return o}function Wi(n,t=vn){if(t.length===1)return ki(n,t);let e,i=-1,r=-1;for(const o of n)++r,(i<0?t(o,o)===0:t(o,e)<0)&&(e=o,i=r);return i}function co(n,t){const e=Wi(n,t);return e<0?void 0:e}function so(n,t){let e=0;if(t===void 0)for(let i of n)(i=+i)&&(e+=i);else{let i=-1;for(let r of n)(r=+t(r,++i,n))&&(e+=r)}return e}var A=1e-6,bn=1e-12,x=Math.PI,tn=x/2,nt=x/4,Q=x*2,Y=180/x,$=x/180,q=Math.abs,Hi=Math.atan,fn=Math.atan2,m=Math.cos,po=Math.ceil,ho=Math.exp,mt=Math.hypot,go=Math.log,vo=Math.pow,R=Math.sin,Vi=Math.sign||function(n){return n>0?1:n<0?-1:0},an=Math.sqrt,yo=Math.tan;function ni(n){return n>1?0:n<-1?x:Math.acos(n)}function yn(n){return n>1?tn:n<-1?-tn:Math.asin(n)}function So(n){return(n=R(n/2))*n}function O(){}function tt(n,t){n&&pe.hasOwnProperty(n.type)&&pe[n.type](n,t)}var se={Feature:function(n,t){tt(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,i=-1,r=e.length;++i<r;)tt(e[i].geometry,t)}},pe={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var e=n.coordinates,i=-1,r=e.length;++i<r;)n=e[i],t.point(n[0],n[1],n[2])},LineString:function(n,t){_t(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,i=-1,r=e.length;++i<r;)_t(e[i],t,0)},Polygon:function(n,t){he(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,i=-1,r=e.length;++i<r;)he(e[i],t)},GeometryCollection:function(n,t){for(var e=n.geometries,i=-1,r=e.length;++i<r;)tt(e[i],t)}};function _t(n,t,e){var i=-1,r=n.length-e,o;for(t.lineStart();++i<r;)o=n[i],t.point(o[0],o[1],o[2]);t.lineEnd()}function he(n,t){var e=-1,i=n.length;for(t.polygonStart();++e<i;)_t(n[e],t,1);t.polygonEnd()}function rn(n,t){n&&se.hasOwnProperty(n.type)?se[n.type](n,t):tt(n,t)}var et=new k,it=new k,ti,ei,Lt,xt,It,ln={point:O,lineStart:O,lineEnd:O,polygonStart:function(){et=new k,ln.lineStart=Ji,ln.lineEnd=Ki},polygonEnd:function(){var n=+et;it.add(n<0?Q+n:n),this.lineStart=this.lineEnd=this.point=O},sphere:function(){it.add(Q)}};function Ji(){ln.point=Qi}function Ki(){ii(ti,ei)}function Qi(n,t){ln.point=ii,ti=n,ei=t,n*=$,t*=$,Lt=n,xt=m(t=t/2+nt),It=R(t)}function ii(n,t){n*=$,t*=$,t=t/2+nt;var e=n-Lt,i=e>=0?1:-1,r=i*e,o=m(t),u=R(t),f=It*u,c=xt*o+f*m(r),a=f*i*R(r);et.add(fn(a,c)),Lt=n,xt=o,It=u}function Eo(n){return it=new k,rn(n,ln),it*2}function rt(n){return[fn(n[1],n[0]),yn(n[2])]}function wn(n){var t=n[0],e=n[1],i=m(e);return[i*m(t),i*R(t),R(e)]}function Wn(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function mn(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function Pt(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function Hn(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function ot(n){var t=an(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}var G,K,D,j,En,ri,oi,Nn,Gn,dn,gn,pn={point:zt,lineStart:ge,lineEnd:de,polygonStart:function(){pn.point=fi,pn.lineStart=Ui,pn.lineEnd=ji,Gn=new k,ln.polygonStart()},polygonEnd:function(){ln.polygonEnd(),pn.point=zt,pn.lineStart=ge,pn.lineEnd=de,et<0?(G=-(D=180),K=-(j=90)):Gn>A?j=90:Gn<-A&&(K=-90),gn[0]=G,gn[1]=D},sphere:function(){G=-(D=180),K=-(j=90)}};function zt(n,t){dn.push(gn=[G=n,D=n]),t<K&&(K=t),t>j&&(j=t)}function ui(n,t){var e=wn([n*$,t*$]);if(Nn){var i=mn(Nn,e),r=[i[1],-i[0],0],o=mn(r,i);ot(o),o=rt(o);var u=n-En,f=u>0?1:-1,c=o[0]*Y*f,a,l=q(u)>180;l^(f*En<c&&c<f*n)?(a=o[1]*Y,a>j&&(j=a)):(c=(c+360)%360-180,l^(f*En<c&&c<f*n)?(a=-o[1]*Y,a<K&&(K=a)):(t<K&&(K=t),t>j&&(j=t))),l?n<En?U(G,n)>U(G,D)&&(D=n):U(n,D)>U(G,D)&&(G=n):D>=G?(n<G&&(G=n),n>D&&(D=n)):n>En?U(G,n)>U(G,D)&&(D=n):U(n,D)>U(G,D)&&(G=n)}else dn.push(gn=[G=n,D=n]);t<K&&(K=t),t>j&&(j=t),Nn=e,En=n}function ge(){pn.point=ui}function de(){gn[0]=G,gn[1]=D,pn.point=zt,Nn=null}function fi(n,t){if(Nn){var e=n-En;Gn.add(q(e)>180?e+(e>0?360:-360):e)}else ri=n,oi=t;ln.point(n,t),ui(n,t)}function Ui(){ln.lineStart()}function ji(){fi(ri,oi),ln.lineEnd(),q(Gn)>A&&(G=-(D=180)),gn[0]=G,gn[1]=D,Nn=null}function U(n,t){return(t-=n)<0?t+360:t}function bi(n,t){return n[0]-t[0]}function ve(n,t){return n[0]<=n[1]?n[0]<=t&&t<=n[1]:t<n[0]||n[1]<t}function wo(n){var t,e,i,r,o,u,f;if(j=D=-(G=K=1/0),dn=[],rn(n,pn),e=dn.length){for(dn.sort(bi),t=1,i=dn[0],o=[i];t<e;++t)r=dn[t],ve(i,r[0])||ve(i,r[1])?(U(i[0],r[1])>U(i[0],i[1])&&(i[1]=r[1]),U(r[0],i[1])>U(i[0],i[1])&&(i[0]=r[0])):o.push(i=r);for(u=-1/0,e=o.length-1,t=0,i=o[e];t<=e;i=r,++t)r=o[t],(f=U(i[1],r[0]))>u&&(u=f,G=r[0],D=i[1])}return dn=gn=null,G===1/0||K===1/0?[[NaN,NaN],[NaN,NaN]]:[[G,K],[D,j]]}var zn,ut,ft,lt,at,ct,st,pt,Ft,At,Ct,li,ai,B,W,H,en={sphere:O,point:te,lineStart:ye,lineEnd:Se,polygonStart:function(){en.lineStart=er,en.lineEnd=ir},polygonEnd:function(){en.lineStart=ye,en.lineEnd=Se}};function te(n,t){n*=$,t*=$;var e=m(t);Zn(e*m(n),e*R(n),R(t))}function Zn(n,t,e){++zn,ft+=(n-ft)/zn,lt+=(t-lt)/zn,at+=(e-at)/zn}function ye(){en.point=nr}function nr(n,t){n*=$,t*=$;var e=m(t);B=e*m(n),W=e*R(n),H=R(t),en.point=tr,Zn(B,W,H)}function tr(n,t){n*=$,t*=$;var e=m(t),i=e*m(n),r=e*R(n),o=R(t),u=fn(an((u=W*o-H*r)*u+(u=H*i-B*o)*u+(u=B*r-W*i)*u),B*i+W*r+H*o);ut+=u,ct+=u*(B+(B=i)),st+=u*(W+(W=r)),pt+=u*(H+(H=o)),Zn(B,W,H)}function Se(){en.point=te}function er(){en.point=rr}function ir(){ci(li,ai),en.point=te}function rr(n,t){li=n,ai=t,n*=$,t*=$,en.point=ci;var e=m(t);B=e*m(n),W=e*R(n),H=R(t),Zn(B,W,H)}function ci(n,t){n*=$,t*=$;var e=m(t),i=e*m(n),r=e*R(n),o=R(t),u=W*o-H*r,f=H*i-B*o,c=B*r-W*i,a=mt(u,f,c),l=yn(a),s=a&&-l/a;Ft.add(s*u),At.add(s*f),Ct.add(s*c),ut+=l,ct+=l*(B+(B=i)),st+=l*(W+(W=r)),pt+=l*(H+(H=o)),Zn(B,W,H)}function Po(n){zn=ut=ft=lt=at=ct=st=pt=0,Ft=new k,At=new k,Ct=new k,rn(n,en);var t=+Ft,e=+At,i=+Ct,r=mt(t,e,i);return r<bn&&(t=ct,e=st,i=pt,ut<A&&(t=ft,e=lt,i=at),r=mt(t,e,i),r<bn)?[NaN,NaN]:[fn(e,t)*Y,yn(i/r)*Y]}function $n(n){return function(){return n}}function qt(n,t){function e(i,r){return i=n(i,r),t(i[0],i[1])}return n.invert&&t.invert&&(e.invert=function(i,r){return i=t.invert(i,r),i&&n.invert(i[0],i[1])}),e}function Tt(n,t){return q(n)>x&&(n-=Math.round(n/Q)*Q),[n,t]}Tt.invert=Tt;function ee(n,t,e){return(n%=Q)?t||e?qt(we(n),Pe(t,e)):we(n):t||e?Pe(t,e):Tt}function Ee(n){return function(t,e){return t+=n,q(t)>x&&(t-=Math.round(t/Q)*Q),[t,e]}}function we(n){var t=Ee(n);return t.invert=Ee(-n),t}function Pe(n,t){var e=m(n),i=R(n),r=m(t),o=R(t);function u(f,c){var a=m(c),l=m(f)*a,s=R(f)*a,p=R(c),d=p*e+l*i;return[fn(s*r-d*o,l*e-p*i),yn(d*r+s*o)]}return u.invert=function(f,c){var a=m(c),l=m(f)*a,s=R(f)*a,p=R(c),d=p*r-s*o;return[fn(s*r+p*o,l*e+d*i),yn(d*e-l*i)]},u}function Mo(n){n=ee(n[0]*$,n[1]*$,n.length>2?n[2]*$:0);function t(e){return e=n(e[0]*$,e[1]*$),e[0]*=Y,e[1]*=Y,e}return t.invert=function(e){return e=n.invert(e[0]*$,e[1]*$),e[0]*=Y,e[1]*=Y,e},t}function si(n,t,e,i,r,o){if(e){var u=m(t),f=R(t),c=i*e;r==null?(r=t+i*Q,o=t-c/2):(r=Me(u,r),o=Me(u,o),(i>0?r<o:r>o)&&(r+=i*Q));for(var a,l=r;i>0?l>o:l<o;l-=c)a=rt([u,-f*m(l),-f*R(l)]),n.point(a[0],a[1])}}function Me(n,t){t=wn(t),t[0]-=n,ot(t);var e=ni(-t[1]);return((-t[2]<0?-e:e)+Q-A)%Q}function $o(){var n=$n([0,0]),t=$n(90),e=$n(2),i,r,o={point:u};function u(c,a){i.push(c=r(c,a)),c[0]*=Y,c[1]*=Y}function f(){var c=n.apply(this,arguments),a=t.apply(this,arguments)*$,l=e.apply(this,arguments)*$;return i=[],r=ee(-c[0]*$,-c[1]*$,0).invert,si(o,a,l,1),c={type:"Polygon",coordinates:[i]},i=r=null,c}return f.center=function(c){return arguments.length?(n=typeof c=="function"?c:$n([+c[0],+c[1]]),f):n},f.radius=function(c){return arguments.length?(t=typeof c=="function"?c:$n(+c),f):t},f.precision=function(c){return arguments.length?(e=typeof c=="function"?c:$n(+c),f):e},f}function pi(){var n=[],t;return{point:function(e,i,r){t.push([e,i,r])},lineStart:function(){n.push(t=[])},lineEnd:O,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function Kn(n,t){return q(n[0]-t[0])<A&&q(n[1]-t[1])<A}function Vn(n,t,e,i){this.x=n,this.z=t,this.o=e,this.e=i,this.v=!1,this.n=this.p=null}function hi(n,t,e,i,r){var o=[],u=[],f,c;if(n.forEach(function(v){if(!((P=v.length-1)<=0)){var P,S=v[0],_=v[P],w;if(Kn(S,_)){if(!S[2]&&!_[2]){for(r.lineStart(),f=0;f<P;++f)r.point((S=v[f])[0],S[1]);r.lineEnd();return}_[0]+=2*A}o.push(w=new Vn(S,v,null,!0)),u.push(w.o=new Vn(S,null,w,!1)),o.push(w=new Vn(_,v,null,!1)),u.push(w.o=new Vn(_,null,w,!0))}}),!!o.length){for(u.sort(t),$e(o),$e(u),f=0,c=u.length;f<c;++f)u[f].e=e=!e;for(var a=o[0],l,s;;){for(var p=a,d=!0;p.v;)if((p=p.n)===a)return;l=p.z,r.lineStart();do{if(p.v=p.o.v=!0,p.e){if(d)for(f=0,c=l.length;f<c;++f)r.point((s=l[f])[0],s[1]);else i(p.x,p.n.x,1,r);p=p.n}else{if(d)for(l=p.p.z,f=l.length-1;f>=0;--f)r.point((s=l[f])[0],s[1]);else i(p.x,p.p.x,-1,r);p=p.p}p=p.o,l=p.z,d=!d}while(!p.v);r.lineEnd()}}}function $e(n){if(t=n.length){for(var t,e=0,i=n[0],r;++e<t;)i.n=r=n[e],r.p=i,i=r;i.n=r=n[0],r.p=i}}function Mt(n){return q(n[0])<=x?n[0]:Vi(n[0])*((q(n[0])+x)%Q-x)}function gi(n,t){var e=Mt(t),i=t[1],r=R(i),o=[R(e),-m(e),0],u=0,f=0,c=new k;r===1?i=tn+A:r===-1&&(i=-tn-A);for(var a=0,l=n.length;a<l;++a)if(p=(s=n[a]).length)for(var s,p,d=s[p-1],v=Mt(d),P=d[1]/2+nt,S=R(P),_=m(P),w=0;w<p;++w,v=g,S=M,_=I,d=y){var y=s[w],g=Mt(y),E=y[1]/2+nt,M=R(E),I=m(E),z=g-v,F=z>=0?1:-1,T=F*z,N=T>x,V=S*M;if(c.add(fn(V*F*R(T),_*I+V*m(T))),u+=N?z+F*Q:z,N^v>=e^g>=e){var X=mn(wn(d),wn(y));ot(X);var C=mn(o,X);ot(C);var h=(N^z>=0?-1:1)*yn(C[2]);(i>h||i===h&&(X[0]||X[1]))&&(f+=N^z>=0?1:-1)}}return(u<-A||u<A&&c<-bn)^f&1}function di(n,t,e,i){return function(r){var o=t(r),u=pi(),f=t(u),c=!1,a,l,s,p={point:d,lineStart:P,lineEnd:S,polygonStart:function(){p.point=_,p.lineStart=w,p.lineEnd=y,l=[],a=[]},polygonEnd:function(){p.point=d,p.lineStart=P,p.lineEnd=S,l=be(l);var g=gi(a,i);l.length?(c||(r.polygonStart(),c=!0),hi(l,ur,g,e,r)):g&&(c||(r.polygonStart(),c=!0),r.lineStart(),e(null,null,1,r),r.lineEnd()),c&&(r.polygonEnd(),c=!1),l=a=null},sphere:function(){r.polygonStart(),r.lineStart(),e(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function d(g,E){n(g,E)&&r.point(g,E)}function v(g,E){o.point(g,E)}function P(){p.point=v,o.lineStart()}function S(){p.point=d,o.lineEnd()}function _(g,E){s.push([g,E]),f.point(g,E)}function w(){f.lineStart(),s=[]}function y(){_(s[0][0],s[0][1]),f.lineEnd();var g=f.clean(),E=u.result(),M,I=E.length,z,F,T;if(s.pop(),a.push(s),s=null,!!I){if(g&1){if(F=E[0],(z=F.length-1)>0){for(c||(r.polygonStart(),c=!0),r.lineStart(),M=0;M<z;++M)r.point((T=F[M])[0],T[1]);r.lineEnd()}return}I>1&&g&2&&E.push(E.pop().concat(E.shift())),l.push(E.filter(or))}}return p}}function or(n){return n.length>1}function ur(n,t){return((n=n.x)[0]<0?n[1]-tn-A:tn-n[1])-((t=t.x)[0]<0?t[1]-tn-A:tn-t[1])}const Re=di(function(){return!0},fr,ar,[-x,-tn]);function fr(n){var t=NaN,e=NaN,i=NaN,r;return{lineStart:function(){n.lineStart(),r=1},point:function(o,u){var f=o>0?x:-x,c=q(o-t);q(c-x)<A?(n.point(t,e=(e+u)/2>0?tn:-tn),n.point(i,e),n.lineEnd(),n.lineStart(),n.point(f,e),n.point(o,e),r=0):i!==f&&c>=x&&(q(t-i)<A&&(t-=i*A),q(o-f)<A&&(o-=f*A),e=lr(t,e,o,u),n.point(i,e),n.lineEnd(),n.lineStart(),n.point(f,e),r=0),n.point(t=o,e=u),i=f},lineEnd:function(){n.lineEnd(),t=e=NaN},clean:function(){return 2-r}}}function lr(n,t,e,i){var r,o,u=R(n-e);return q(u)>A?Hi((R(t)*(o=m(i))*R(e)-R(i)*(r=m(t))*R(n))/(r*o*u)):(t+i)/2}function ar(n,t,e,i){var r;if(n==null)r=e*tn,i.point(-x,r),i.point(0,r),i.point(x,r),i.point(x,0),i.point(x,-r),i.point(0,-r),i.point(-x,-r),i.point(-x,0),i.point(-x,r);else if(q(n[0]-t[0])>A){var o=n[0]<t[0]?x:-x;r=e*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(t[0],t[1])}function cr(n){var t=m(n),e=2*$,i=t>0,r=q(t)>A;function o(l,s,p,d){si(d,n,e,p,l,s)}function u(l,s){return m(l)*m(s)>t}function f(l){var s,p,d,v,P;return{lineStart:function(){v=d=!1,P=1},point:function(S,_){var w=[S,_],y,g=u(S,_),E=i?g?0:a(S,_):g?a(S+(S<0?x:-x),_):0;if(!s&&(v=d=g)&&l.lineStart(),g!==d&&(y=c(s,w),(!y||Kn(s,y)||Kn(w,y))&&(w[2]=1)),g!==d)P=0,g?(l.lineStart(),y=c(w,s),l.point(y[0],y[1])):(y=c(s,w),l.point(y[0],y[1],2),l.lineEnd()),s=y;else if(r&&s&&i^g){var M;!(E&p)&&(M=c(w,s,!0))&&(P=0,i?(l.lineStart(),l.point(M[0][0],M[0][1]),l.point(M[1][0],M[1][1]),l.lineEnd()):(l.point(M[1][0],M[1][1]),l.lineEnd(),l.lineStart(),l.point(M[0][0],M[0][1],3)))}g&&(!s||!Kn(s,w))&&l.point(w[0],w[1]),s=w,d=g,p=E},lineEnd:function(){d&&l.lineEnd(),s=null},clean:function(){return P|(v&&d)<<1}}}function c(l,s,p){var d=wn(l),v=wn(s),P=[1,0,0],S=mn(d,v),_=Wn(S,S),w=S[0],y=_-w*w;if(!y)return!p&&l;var g=t*_/y,E=-t*w/y,M=mn(P,S),I=Hn(P,g),z=Hn(S,E);Pt(I,z);var F=M,T=Wn(I,F),N=Wn(F,F),V=T*T-N*(Wn(I,I)-1);if(!(V<0)){var X=an(V),C=Hn(F,(-T-X)/N);if(Pt(C,I),C=rt(C),!p)return C;var h=l[0],L=s[0],Z=l[1],J=s[1],b;L<h&&(b=h,h=L,L=b);var In=L-h,cn=q(In-x)<A,Sn=cn||In<A;if(!cn&&J<Z&&(b=Z,Z=J,J=b),Sn?cn?Z+J>0^C[1]<(q(C[0]-h)<A?Z:J):Z<=C[1]&&C[1]<=J:In>x^(h<=C[0]&&C[0]<=L)){var sn=Hn(F,(-T+X)/N);return Pt(sn,I),[C,rt(sn)]}}}function a(l,s){var p=i?n:x-n,d=0;return l<-p?d|=1:l>p&&(d|=2),s<-p?d|=4:s>p&&(d|=8),d}return di(u,f,o,i?[0,-n]:[-x,n-x])}function sr(n,t,e,i,r,o){var u=n[0],f=n[1],c=t[0],a=t[1],l=0,s=1,p=c-u,d=a-f,v;if(v=e-u,!(!p&&v>0)){if(v/=p,p<0){if(v<l)return;v<s&&(s=v)}else if(p>0){if(v>s)return;v>l&&(l=v)}if(v=r-u,!(!p&&v<0)){if(v/=p,p<0){if(v>s)return;v>l&&(l=v)}else if(p>0){if(v<l)return;v<s&&(s=v)}if(v=i-f,!(!d&&v>0)){if(v/=d,d<0){if(v<l)return;v<s&&(s=v)}else if(d>0){if(v>s)return;v>l&&(l=v)}if(v=o-f,!(!d&&v<0)){if(v/=d,d<0){if(v>s)return;v>l&&(l=v)}else if(d>0){if(v<l)return;v<s&&(s=v)}return l>0&&(n[0]=u+l*p,n[1]=f+l*d),s<1&&(t[0]=u+s*p,t[1]=f+s*d),!0}}}}}var Fn=1e9,Jn=-Fn;function vi(n,t,e,i){function r(a,l){return n<=a&&a<=e&&t<=l&&l<=i}function o(a,l,s,p){var d=0,v=0;if(a==null||(d=u(a,s))!==(v=u(l,s))||c(a,l)<0^s>0)do p.point(d===0||d===3?n:e,d>1?i:t);while((d=(d+s+4)%4)!==v);else p.point(l[0],l[1])}function u(a,l){return q(a[0]-n)<A?l>0?0:3:q(a[0]-e)<A?l>0?2:1:q(a[1]-t)<A?l>0?1:0:l>0?3:2}function f(a,l){return c(a.x,l.x)}function c(a,l){var s=u(a,1),p=u(l,1);return s!==p?s-p:s===0?l[1]-a[1]:s===1?a[0]-l[0]:s===2?a[1]-l[1]:l[0]-a[0]}return function(a){var l=a,s=pi(),p,d,v,P,S,_,w,y,g,E,M,I={point:z,lineStart:V,lineEnd:X,polygonStart:T,polygonEnd:N};function z(h,L){r(h,L)&&l.point(h,L)}function F(){for(var h=0,L=0,Z=d.length;L<Z;++L)for(var J=d[L],b=1,In=J.length,cn=J[0],Sn,sn,Bn=cn[0],Mn=cn[1];b<In;++b)Sn=Bn,sn=Mn,cn=J[b],Bn=cn[0],Mn=cn[1],sn<=i?Mn>i&&(Bn-Sn)*(i-sn)>(Mn-sn)*(n-Sn)&&++h:Mn<=i&&(Bn-Sn)*(i-sn)<(Mn-sn)*(n-Sn)&&--h;return h}function T(){l=s,p=[],d=[],M=!0}function N(){var h=F(),L=M&&h,Z=(p=be(p)).length;(L||Z)&&(a.polygonStart(),L&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),Z&&hi(p,f,h,o,a),a.polygonEnd()),l=a,p=d=v=null}function V(){I.point=C,d&&d.push(v=[]),E=!0,g=!1,w=y=NaN}function X(){p&&(C(P,S),_&&g&&s.rejoin(),p.push(s.result())),I.point=z,g&&l.lineEnd()}function C(h,L){var Z=r(h,L);if(d&&v.push([h,L]),E)P=h,S=L,_=Z,E=!1,Z&&(l.lineStart(),l.point(h,L));else if(Z&&g)l.point(h,L);else{var J=[w=Math.max(Jn,Math.min(Fn,w)),y=Math.max(Jn,Math.min(Fn,y))],b=[h=Math.max(Jn,Math.min(Fn,h)),L=Math.max(Jn,Math.min(Fn,L))];sr(J,b,n,t,e,i)?(g||(l.lineStart(),l.point(J[0],J[1])),l.point(b[0],b[1]),Z||l.lineEnd(),M=!1):Z&&(l.lineStart(),l.point(h,L),M=!1)}w=h,y=L,g=Z}return I}}var Gt,Ot,Qn,Un,_n={sphere:O,point:O,lineStart:pr,lineEnd:O,polygonStart:O,polygonEnd:O};function pr(){_n.point=gr,_n.lineEnd=hr}function hr(){_n.point=_n.lineEnd=O}function gr(n,t){n*=$,t*=$,Ot=n,Qn=R(t),Un=m(t),_n.point=dr}function dr(n,t){n*=$,t*=$;var e=R(t),i=m(t),r=q(n-Ot),o=m(r),u=R(r),f=i*u,c=Un*e-Qn*i*o,a=Qn*e+Un*i*o;Gt.add(fn(an(f*f+c*c),a)),Ot=n,Qn=e,Un=i}function vr(n){return Gt=new k,rn(n,_n),+Gt}var Dt=[null,null],yr={type:"LineString",coordinates:Dt};function Xt(n,t){return Dt[0]=n,Dt[1]=t,vr(yr)}var Ne={Feature:function(n,t){return ht(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,i=-1,r=e.length;++i<r;)if(ht(e[i].geometry,t))return!0;return!1}},me={Sphere:function(){return!0},Point:function(n,t){return _e(n.coordinates,t)},MultiPoint:function(n,t){for(var e=n.coordinates,i=-1,r=e.length;++i<r;)if(_e(e[i],t))return!0;return!1},LineString:function(n,t){return Le(n.coordinates,t)},MultiLineString:function(n,t){for(var e=n.coordinates,i=-1,r=e.length;++i<r;)if(Le(e[i],t))return!0;return!1},Polygon:function(n,t){return xe(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,i=-1,r=e.length;++i<r;)if(xe(e[i],t))return!0;return!1},GeometryCollection:function(n,t){for(var e=n.geometries,i=-1,r=e.length;++i<r;)if(ht(e[i],t))return!0;return!1}};function ht(n,t){return n&&me.hasOwnProperty(n.type)?me[n.type](n,t):!1}function _e(n,t){return Xt(n,t)===0}function Le(n,t){for(var e,i,r,o=0,u=n.length;o<u;o++){if(i=Xt(n[o],t),i===0||o>0&&(r=Xt(n[o],n[o-1]),r>0&&e<=r&&i<=r&&(e+i-r)*(1-Math.pow((e-i)/r,2))<bn*r))return!0;e=i}return!1}function xe(n,t){return!!gi(n.map(Sr),yi(t))}function Sr(n){return n=n.map(yi),n.pop(),n}function yi(n){return[n[0]*$,n[1]*$]}function Ro(n,t){return(n&&Ne.hasOwnProperty(n.type)?Ne[n.type]:ht)(n,t)}const Dn=n=>n;var $t=new k,Yt=new k,Si,Ei,Zt,kt,hn={point:O,lineStart:O,lineEnd:O,polygonStart:function(){hn.lineStart=Er,hn.lineEnd=Pr},polygonEnd:function(){hn.lineStart=hn.lineEnd=hn.point=O,$t.add(q(Yt)),Yt=new k},result:function(){var n=$t/2;return $t=new k,n}};function Er(){hn.point=wr}function wr(n,t){hn.point=wi,Si=Zt=n,Ei=kt=t}function wi(n,t){Yt.add(kt*n-Zt*t),Zt=n,kt=t}function Pr(){wi(Si,Ei)}var Ln=1/0,gt=Ln,Xn=-Ln,dt=Xn,vt={point:Mr,lineStart:O,lineEnd:O,polygonStart:O,polygonEnd:O,result:function(){var n=[[Ln,gt],[Xn,dt]];return Xn=dt=-(gt=Ln=1/0),n}};function Mr(n,t){n<Ln&&(Ln=n),n>Xn&&(Xn=n),t<gt&&(gt=t),t>dt&&(dt=t)}var Bt=0,Wt=0,An=0,yt=0,St=0,Rn=0,Ht=0,Vt=0,Cn=0,Pi,Mi,on,un,nn={point:Pn,lineStart:Ie,lineEnd:ze,polygonStart:function(){nn.lineStart=Nr,nn.lineEnd=mr},polygonEnd:function(){nn.point=Pn,nn.lineStart=Ie,nn.lineEnd=ze},result:function(){var n=Cn?[Ht/Cn,Vt/Cn]:Rn?[yt/Rn,St/Rn]:An?[Bt/An,Wt/An]:[NaN,NaN];return Bt=Wt=An=yt=St=Rn=Ht=Vt=Cn=0,n}};function Pn(n,t){Bt+=n,Wt+=t,++An}function Ie(){nn.point=$r}function $r(n,t){nn.point=Rr,Pn(on=n,un=t)}function Rr(n,t){var e=n-on,i=t-un,r=an(e*e+i*i);yt+=r*(on+n)/2,St+=r*(un+t)/2,Rn+=r,Pn(on=n,un=t)}function ze(){nn.point=Pn}function Nr(){nn.point=_r}function mr(){$i(Pi,Mi)}function _r(n,t){nn.point=$i,Pn(Pi=on=n,Mi=un=t)}function $i(n,t){var e=n-on,i=t-un,r=an(e*e+i*i);yt+=r*(on+n)/2,St+=r*(un+t)/2,Rn+=r,r=un*n-on*t,Ht+=r*(on+n),Vt+=r*(un+t),Cn+=r*3,Pn(on=n,un=t)}function Ri(n){this._context=n}Ri.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:{this._context.moveTo(n,t),this._point=1;break}case 1:{this._context.lineTo(n,t);break}default:{this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,Q);break}}},result:O};var Jt=new k,Rt,Ni,mi,qn,Tn,Yn={point:O,lineStart:function(){Yn.point=Lr},lineEnd:function(){Rt&&_i(Ni,mi),Yn.point=O},polygonStart:function(){Rt=!0},polygonEnd:function(){Rt=null},result:function(){var n=+Jt;return Jt=new k,n}};function Lr(n,t){Yn.point=_i,Ni=qn=n,mi=Tn=t}function _i(n,t){qn-=n,Tn-=t,Jt.add(an(qn*qn+Tn*Tn)),qn=n,Tn=t}let Fe,Et,Ae,Ce;class qe{constructor(t){this._append=t==null?Li:xr(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,e){switch(this._point){case 0:{this._append`M${t},${e}`,this._point=1;break}case 1:{this._append`L${t},${e}`;break}default:{if(this._append`M${t},${e}`,this._radius!==Ae||this._append!==Et){const i=this._radius,r=this._;this._="",this._append`m0,${i}a${i},${i} 0 1,1 0,${-2*i}a${i},${i} 0 1,1 0,${2*i}z`,Ae=i,Et=this._append,Ce=this._,this._=r}this._+=Ce;break}}}result(){const t=this._;return this._="",t.length?t:null}}function Li(n){let t=1;this._+=n[0];for(const e=n.length;t<e;++t)this._+=arguments[t]+n[t]}function xr(n){const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);if(t>15)return Li;if(t!==Fe){const e=10**t;Fe=t,Et=function(r){let o=1;this._+=r[0];for(const u=r.length;o<u;++o)this._+=Math.round(arguments[o]*e)/e+r[o]}}return Et}function No(n,t){let e=3,i=4.5,r,o;function u(f){return f&&(typeof i=="function"&&o.pointRadius(+i.apply(this,arguments)),rn(f,r(o))),o.result()}return u.area=function(f){return rn(f,r(hn)),hn.result()},u.measure=function(f){return rn(f,r(Yn)),Yn.result()},u.bounds=function(f){return rn(f,r(vt)),vt.result()},u.centroid=function(f){return rn(f,r(nn)),nn.result()},u.projection=function(f){return arguments.length?(r=f==null?(n=null,Dn):(n=f).stream,u):n},u.context=function(f){return arguments.length?(o=f==null?(t=null,new qe(e)):new Ri(t=f),typeof i!="function"&&o.pointRadius(i),u):t},u.pointRadius=function(f){return arguments.length?(i=typeof f=="function"?f:(o.pointRadius(+f),+f),u):i},u.digits=function(f){if(!arguments.length)return e;if(f==null)e=null;else{const c=Math.floor(f);if(!(c>=0))throw new RangeError(`invalid digits: ${f}`);e=c}return t===null&&(o=new qe(e)),u},u.projection(n).digits(e).context(t)}function mo(n){return{stream:kn(n)}}function kn(n){return function(t){var e=new Kt;for(var i in n)e[i]=n[i];return e.stream=t,e}}function Kt(){}Kt.prototype={constructor:Kt,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function ie(n,t,e){var i=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),i!=null&&n.clipExtent(null),rn(e,n.stream(vt)),t(vt.result()),i!=null&&n.clipExtent(i),n}function re(n,t,e){return ie(n,function(i){var r=t[1][0]-t[0][0],o=t[1][1]-t[0][1],u=Math.min(r/(i[1][0]-i[0][0]),o/(i[1][1]-i[0][1])),f=+t[0][0]+(r-u*(i[1][0]+i[0][0]))/2,c=+t[0][1]+(o-u*(i[1][1]+i[0][1]))/2;n.scale(150*u).translate([f,c])},e)}function xi(n,t,e){return re(n,[[0,0],t],e)}function Ii(n,t,e){return ie(n,function(i){var r=+t,o=r/(i[1][0]-i[0][0]),u=(r-o*(i[1][0]+i[0][0]))/2,f=-o*i[0][1];n.scale(150*o).translate([u,f])},e)}function zi(n,t,e){return ie(n,function(i){var r=+t,o=r/(i[1][1]-i[0][1]),u=-o*i[0][0],f=(r-o*(i[1][1]+i[0][1]))/2;n.scale(150*o).translate([u,f])},e)}var Te=16,Ir=m(30*$);function Ge(n,t){return+t?Fr(n,t):zr(n)}function zr(n){return kn({point:function(t,e){t=n(t,e),this.stream.point(t[0],t[1])}})}function Fr(n,t){function e(i,r,o,u,f,c,a,l,s,p,d,v,P,S){var _=a-i,w=l-r,y=_*_+w*w;if(y>4*t&&P--){var g=u+p,E=f+d,M=c+v,I=an(g*g+E*E+M*M),z=yn(M/=I),F=q(q(M)-1)<A||q(o-s)<A?(o+s)/2:fn(E,g),T=n(F,z),N=T[0],V=T[1],X=N-i,C=V-r,h=w*X-_*C;(h*h/y>t||q((_*X+w*C)/y-.5)>.3||u*p+f*d+c*v<Ir)&&(e(i,r,o,u,f,c,N,V,F,g/=I,E/=I,M,P,S),S.point(N,V),e(N,V,F,g,E,M,a,l,s,p,d,v,P,S))}}return function(i){var r,o,u,f,c,a,l,s,p,d,v,P,S={point:_,lineStart:w,lineEnd:g,polygonStart:function(){i.polygonStart(),S.lineStart=E},polygonEnd:function(){i.polygonEnd(),S.lineStart=w}};function _(z,F){z=n(z,F),i.point(z[0],z[1])}function w(){s=NaN,S.point=y,i.lineStart()}function y(z,F){var T=wn([z,F]),N=n(z,F);e(s,p,l,d,v,P,s=N[0],p=N[1],l=z,d=T[0],v=T[1],P=T[2],Te,i),i.point(s,p)}function g(){S.point=_,i.lineEnd()}function E(){w(),S.point=M,S.lineEnd=I}function M(z,F){y(r=z,F),o=s,u=p,f=d,c=v,a=P,S.point=y}function I(){e(s,p,l,d,v,P,o,u,r,f,c,a,Te,i),S.lineEnd=g,g()}return S}}var Ar=kn({point:function(n,t){this.stream.point(n*$,t*$)}});function Cr(n){return kn({point:function(t,e){var i=n(t,e);return this.stream.point(i[0],i[1])}})}function qr(n,t,e,i,r){function o(u,f){return u*=i,f*=r,[t+n*u,e-n*f]}return o.invert=function(u,f){return[(u-t)/n*i,(e-f)/n*r]},o}function Oe(n,t,e,i,r,o){if(!o)return qr(n,t,e,i,r);var u=m(o),f=R(o),c=u*n,a=f*n,l=u/n,s=f/n,p=(f*e-u*t)/n,d=(f*t+u*e)/n;function v(P,S){return P*=i,S*=r,[c*P-a*S+t,e-a*P-c*S]}return v.invert=function(P,S){return[i*(l*P-s*S+p),r*(d-s*P-l*S)]},v}function Fi(n){return Tr(function(){return n})()}function Tr(n){var t,e=150,i=480,r=250,o=0,u=0,f=0,c=0,a=0,l,s=0,p=1,d=1,v=null,P=Re,S=null,_,w,y,g=Dn,E=.5,M,I,z,F,T;function N(h){return z(h[0]*$,h[1]*$)}function V(h){return h=z.invert(h[0],h[1]),h&&[h[0]*Y,h[1]*Y]}N.stream=function(h){return F&&T===h?F:F=Ar(Cr(l)(P(M(g(T=h)))))},N.preclip=function(h){return arguments.length?(P=h,v=void 0,C()):P},N.postclip=function(h){return arguments.length?(g=h,S=_=w=y=null,C()):g},N.clipAngle=function(h){return arguments.length?(P=+h?cr(v=h*$):(v=null,Re),C()):v*Y},N.clipExtent=function(h){return arguments.length?(g=h==null?(S=_=w=y=null,Dn):vi(S=+h[0][0],_=+h[0][1],w=+h[1][0],y=+h[1][1]),C()):S==null?null:[[S,_],[w,y]]},N.scale=function(h){return arguments.length?(e=+h,X()):e},N.translate=function(h){return arguments.length?(i=+h[0],r=+h[1],X()):[i,r]},N.center=function(h){return arguments.length?(o=h[0]%360*$,u=h[1]%360*$,X()):[o*Y,u*Y]},N.rotate=function(h){return arguments.length?(f=h[0]%360*$,c=h[1]%360*$,a=h.length>2?h[2]%360*$:0,X()):[f*Y,c*Y,a*Y]},N.angle=function(h){return arguments.length?(s=h%360*$,X()):s*Y},N.reflectX=function(h){return arguments.length?(p=h?-1:1,X()):p<0},N.reflectY=function(h){return arguments.length?(d=h?-1:1,X()):d<0},N.precision=function(h){return arguments.length?(M=Ge(I,E=h*h),C()):an(E)},N.fitExtent=function(h,L){return re(N,h,L)},N.fitSize=function(h,L){return xi(N,h,L)},N.fitWidth=function(h,L){return Ii(N,h,L)},N.fitHeight=function(h,L){return zi(N,h,L)};function X(){var h=Oe(e,0,0,p,d,s).apply(null,t(o,u)),L=Oe(e,i-h[0],r-h[1],p,d,s);return l=ee(f,c,a),I=qt(t,L),z=qt(l,I),M=Ge(I,E),C()}function C(){return F=T=null,N}return function(){return t=n.apply(this,arguments),N.invert=t.invert&&V,X()}}function Gr(n){return function(t,e){var i=m(t),r=m(e),o=n(i*r);return o===1/0?[2,0]:[o*r*R(t),o*R(e)]}}function Or(n){return function(t,e){var i=an(t*t+e*e),r=n(i),o=R(r),u=m(r);return[fn(t*o,i*u),yn(i&&e*o/i)]}}var Ai=Gr(function(n){return(n=ni(n))&&n/R(n)});Ai.invert=Or(function(n){return n});function _o(){return Fi(Ai).scale(79.4188).clipAngle(180-.001)}function Qt(n,t){return[n,t]}Qt.invert=Qt;function Lo(){return Fi(Qt).scale(152.63)}function xo(){var n=1,t=0,e=0,i=1,r=1,o=0,u,f,c=null,a,l,s,p=1,d=1,v=kn({point:function(g,E){var M=y([g,E]);this.stream.point(M[0],M[1])}}),P=Dn,S,_;function w(){return p=n*i,d=n*r,S=_=null,y}function y(g){var E=g[0]*p,M=g[1]*d;if(o){var I=M*u-E*f;E=E*u+M*f,M=I}return[E+t,M+e]}return y.invert=function(g){var E=g[0]-t,M=g[1]-e;if(o){var I=M*u+E*f;E=E*u-M*f,M=I}return[E/p,M/d]},y.stream=function(g){return S&&_===g?S:S=v(P(_=g))},y.postclip=function(g){return arguments.length?(P=g,c=a=l=s=null,w()):P},y.clipExtent=function(g){return arguments.length?(P=g==null?(c=a=l=s=null,Dn):vi(c=+g[0][0],a=+g[0][1],l=+g[1][0],s=+g[1][1]),w()):c==null?null:[[c,a],[l,s]]},y.scale=function(g){return arguments.length?(n=+g,w()):n},y.translate=function(g){return arguments.length?(t=+g[0],e=+g[1],w()):[t,e]},y.angle=function(g){return arguments.length?(o=g%360*$,f=R(o),u=m(o),w()):o*Y},y.reflectX=function(g){return arguments.length?(i=g?-1:1,w()):i<0},y.reflectY=function(g){return arguments.length?(r=g?-1:1,w()):r<0},y.fitExtent=function(g,E){return re(y,g,E)},y.fitSize=function(g,E){return xi(y,g,E)},y.fitWidth=function(g,E){return Ii(y,g,E)},y.fitHeight=function(g,E){return zi(y,g,E)},y}var wt=1e-4,De=1e4,oe=-180,Ut=oe+wt,Ci=180,jt=Ci-wt,ue=-90,bt=ue+wt,fe=90,ne=fe-wt;function Dr(n){return n.length>0}function Xr(n){return Math.floor(n*De)/De}function Xe(n){return n===ue||n===fe?[0,n]:[oe,Xr(n)]}function le(n){var t=n[0],e=n[1],i=!1;return t<=Ut?(t=oe,i=!0):t>=jt&&(t=Ci,i=!0),e<=bt?(e=ue,i=!0):e>=ne&&(e=fe,i=!0),i?[t,e]:n}function Ye(n){return n.map(le)}function Ze(n,t,e){for(var i=0,r=n.length;i<r;++i){var o=n[i].slice();e.push({index:-1,polygon:t,ring:o});for(var u=0,f=o.length;u<f;++u){var c=o[u],a=c[0],l=c[1];if(a<=Ut||a>=jt||l<=bt||l>=ne){o[u]=le(c);for(var s=u+1;s<f;++s){var p=o[s],d=p[0],v=p[1];if(d>Ut&&d<jt&&v>bt&&v<ne)break}if(s===u+1)continue;if(u){var P={index:-1,polygon:t,ring:o.slice(0,u+1)};P.ring[P.ring.length-1]=Xe(l),e[e.length-1]=P}else e.pop();if(s>=f)break;e.push({index:-1,polygon:t,ring:o=o.slice(s-1)}),o[0]=Xe(o[0][1]),u=-1,f=o.length}}}}function ke(n){var t,e=n.length,i={},r={},o,u,f,c,a;for(t=0;t<e;++t){if(o=n[t],u=o.ring[0],c=o.ring[o.ring.length-1],u[0]===c[0]&&u[1]===c[1]){o.polygon.push(o.ring),n[t]=null;continue}o.index=t,i[u]=r[c]=o}for(t=0;t<e;++t)if(o=n[t],o){if(u=o.ring[0],c=o.ring[o.ring.length-1],f=r[u],a=i[c],delete i[u],delete r[c],u[0]===c[0]&&u[1]===c[1]){o.polygon.push(o.ring);continue}f?(delete r[u],delete i[f.ring[0]],f.ring.pop(),n[f.index]=null,o={index:-1,polygon:f.polygon,ring:f.ring.concat(o.ring)},f===a?o.polygon.push(o.ring):(o.index=e++,n.push(i[o.ring[0]]=r[o.ring[o.ring.length-1]]=o))):a?(delete i[c],delete r[a.ring[a.ring.length-1]],o.ring.pop(),o={index:e++,polygon:a.polygon,ring:o.ring.concat(a.ring)},n[a.index]=null,n.push(i[o.ring[0]]=r[o.ring[o.ring.length-1]]=o)):(o.ring.push(o.ring[0]),o.polygon.push(o.ring))}}function Be(n){var t={type:"Feature",geometry:ae(n.geometry)};return n.id!=null&&(t.id=n.id),n.bbox!=null&&(t.bbox=n.bbox),n.properties!=null&&(t.properties=n.properties),t}function ae(n){if(n==null)return n;var t,e,i,r;switch(n.type){case"GeometryCollection":t={type:"GeometryCollection",geometries:n.geometries.map(ae)};break;case"Point":t={type:"Point",coordinates:le(n.coordinates)};break;case"MultiPoint":case"LineString":t={type:n.type,coordinates:Ye(n.coordinates)};break;case"MultiLineString":t={type:"MultiLineString",coordinates:n.coordinates.map(Ye)};break;case"Polygon":{var o=[];Ze(n.coordinates,o,e=[]),ke(e),t={type:"Polygon",coordinates:o};break}case"MultiPolygon":{e=[],i=-1,r=n.coordinates.length;for(var u=new Array(r);++i<r;)Ze(n.coordinates[i],u[i]=[],e);ke(e),t={type:"MultiPolygon",coordinates:u.filter(Dr)};break}default:return n}return n.bbox!=null&&(t.bbox=n.bbox),t}function Io(n){if(n==null)return n;switch(n.type){case"Feature":return Be(n);case"FeatureCollection":{var t={type:"FeatureCollection",features:n.features.map(Be)};return n.bbox!=null&&(t.bbox=n.bbox),t}default:return ae(n)}}export{co as $,yo as A,tn as B,Hi as C,ho as D,vo as E,Qt as F,bn as G,Eo as H,_o as I,Ai as J,wo as K,Po as L,$o as M,Re as N,cr as O,Ro as P,Xt as Q,Lo as R,xo as S,vr as T,No as U,rn as V,mo as W,qi as X,be as Y,Io as Z,k as _,po as a,uo as a0,Ve as a1,Zr as a2,io as a3,eo as a4,ce as a5,Hr as a6,ro as a7,vn as a8,oo as a9,Wr as aa,so as ab,lo as ac,fo as ad,Oi as ae,br as af,Qr as ag,On as ah,Yr as ai,Gi as aj,ki as ak,Kr as al,Br as am,kr as an,We as ao,Jr as ap,Ur as aq,jr as ar,Vr as as,no as at,to as au,Wi as av,Di as aw,q as b,vi as c,$ as d,A as e,yn as f,fn as g,So as h,Y as i,m as j,R as k,x as l,Vi as m,re as n,xi as o,Tr as p,Ii as q,ao as r,an as s,zi as t,Fi as u,Gr as v,Or as w,Q as x,Mo as y,go as z};
